!function(e){var t={};function n(r){if(t[r])return t[r].exports;var a=t[r]={i:r,l:!1,exports:{}};return e[r].call(a.exports,a,a.exports,n),a.l=!0,a.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var a in e)n.d(r,a,function(t){return e[t]}.bind(null,a));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n.oe=function(e){process.nextTick((function(){throw e}))},n(n.s=27)}([function(e,t){e.exports=require("react")},function(e,t){e.exports=require("react-bootstrap")},function(e,t){e.exports=require("@nteract/directory-listing")},function(e,t){e.exports=require("react-notifications")},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var a=(i=r,c=btoa(unescape(encodeURIComponent(JSON.stringify(i)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(c),"/*# ".concat(l," */")),o=r.sources.map((function(e){return"/*# sourceURL=".concat(r.sourceRoot||"").concat(e," */")}));return[n].concat(o).concat([a]).join("\n")}var i,c,l;return[n].join("\n")}(t,e);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var a={};if(r)for(var o=0;o<this.length;o++){var i=this[o][0];null!=i&&(a[i]=!0)}for(var c=0;c<e.length;c++){var l=[].concat(e[c]);r&&a[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t){e.exports=require("react-device-detect")},function(e,t){e.exports=require("react-router-dom")},function(e,t){e.exports=require("react-pdf")},function(e,t,n){"use strict";var r,a=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},o=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),i=[];function c(e){for(var t=-1,n=0;n<i.length;n++)if(i[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],a=0;a<e.length;a++){var o=e[a],l=t.base?o[0]+t.base:o[0],u=n[l]||0,s="".concat(l," ").concat(u);n[l]=u+1;var f=c(s),p={css:o[1],media:o[2],sourceMap:o[3]};-1!==f?(i[f].references++,i[f].updater(p)):i.push({identifier:s,updater:y(p,t),references:1}),r.push(s)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var a=n.nc;a&&(r.nonce=a)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var i=o(e.insert||"head");if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(t)}return t}var s,f=(s=[],function(e,t){return s[e]=t,s.filter(Boolean).join("\n")});function p(e,t,n,r){var a=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=f(t,a);else{var o=document.createTextNode(a),i=e.childNodes;i[t]&&e.removeChild(i[t]),i.length?e.insertBefore(o,i[t]):e.appendChild(o)}}function d(e,t,n){var r=n.css,a=n.media,o=n.sourceMap;if(a?e.setAttribute("media",a):e.removeAttribute("media"),o&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var m=null,h=0;function y(e,t){var n,r,a;if(t.singleton){var o=h++;n=m||(m=u(t)),r=p.bind(null,n,o,!1),a=p.bind(null,n,o,!0)}else n=u(t),r=d.bind(null,n,t),a=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else a()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=a());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var a=c(n[r]);i[a].references--}for(var o=l(e,t),u=0;u<n.length;u++){var s=c(n[u]);0===i[s].references&&(i[s].updater(),i.splice(s,1))}n=o}}}},function(e,t){e.exports=require("firebase/app")},function(e,t){e.exports=require("underscore")},function(e,t){e.exports=require("react-drag-and-drop")},function(e,t){e.exports=require("aws-sdk")},function(e,t){e.exports=require("react-notifications/lib/notifications.css")},function(e,t){e.exports=require("react-dom")},function(e,t){e.exports=require("react-jupyter")},function(e,t){e.exports=require("react-search-field")},function(e,t,n){var r=n(8),a=n(18);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r)()(!1);a.push([e.i,"body {\n  margin: 0;\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n\ncode {\n  font-family: source-code-pro, Menlo, Monaco, Consolas, 'Courier New',\n    monospace;\n}\n",""]),t.default=a},function(e,t,n){var r=n(8),a=n(20);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r)()(!1);a.push([e.i,".react-pdf__Page__canvas {\n    max-height: 100vh;\n    max-width: 30vw;\n}\n\n.react-pdf__Page__textContent {\n    max-height: 75vh;\n    max-width: 30vw;\n}\n\n.file-list-btn {\n    max-width: 7%\n}\n\n.annotationLayer {\n    display: none;\n}\n\n@media only screen and (max-width: 600px) {\n    .react-pdf__Page__canvas {\n        max-width: 90vw;\n        max-height: 60vh;\n    }\n    .react-pdf__Page__textContent {\n        max-height: 60vh;\n        max-width: 30vw;\n    }\n    .modal {\n        max-height: 90vh;\n    }\n    .file-list-btn {\n        max-width: 15%;\n    }\n}",""]),t.default=a},function(e,t,n){var r=n(8),a=n(22);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r)()(!1);a.push([e.i,".dropdown-toggle::after {\n    visibility: hidden;\n}\n",""]),t.default=a},function(e,t,n){var r=n(8),a=n(24);"string"==typeof(a=a.__esModule?a.default:a)&&(a=[[e.i,a,""]]);var o={insert:"head",singleton:!1};r(a,o);e.exports=a.locals||{}},function(e,t,n){"use strict";n.r(t);var r=n(4),a=n.n(r)()(!1);a.push([e.i,".App {\n  text-align: center;\n}\n\n.App-logo {\n  height: 40vmin;\n  pointer-events: none;\n}\n\n.search-field {\n  margin: 5 !important;\n}\n\n@media (prefers-reduced-motion: no-preference) {\n  .App-logo {\n    animation: App-logo-spin infinite 20s linear;\n  }\n}\n\n.App-header {\n  background-color: #282c34;\n  min-height: 100vh;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  font-size: calc(10px + 2vmin);\n  color: white;\n}\n\n.App-link {\n  color: #61dafb;\n}\n\n@keyframes App-logo-spin {\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n}\n",""]),t.default=a},function(e,t){e.exports=require("bootstrap/dist/css/bootstrap.min.css")},function(e,t){e.exports=require("firebase/auth")},function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(14),i=n.n(o),c=(n(17),n(2)),l=n(12),u=n.n(l);u.a.config.update({accessKeyId:process.env.REACT_APP_S3_ACCESS_KEY,secretAccessKey:process.env.REACT_APP_S3_SECRET_ACCESS_KEY});var s=new u.a.S3({params:{Bucket:process.env.REACT_APP_S3_BUCKET},region:process.env.REACT_APP_S3_REGION}),f=n(10),p=n.n(f);function d(e){var t;if("undefined"!=typeof Symbol&&(Symbol.asyncIterator&&(t=e[Symbol.asyncIterator]),null==t&&Symbol.iterator&&(t=e[Symbol.iterator])),null==t&&(t=e["@@asyncIterator"]),null==t&&(t=e["@@iterator"]),null==t)throw new TypeError("Object is not async iterable");return t.call(e)}function m(e){return new v(e)}function h(e){return function(){return new y(e.apply(this,arguments))}}function y(e){var t,n;function r(t,n){try{var o=e[t](n),i=o.value,c=i instanceof v;Promise.resolve(c?i.wrapped:i).then((function(e){c?r("return"===t?"return":"next",e):a(o.done?"return":"normal",e)}),(function(e){r("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise((function(o,i){var c={key:e,arg:a,resolve:o,reject:i,next:null};n?n=n.next=c:(t=n=c,r(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function v(e){this.wrapped=e}y.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},y.prototype.next=function(e){return this._invoke("next",e)},y.prototype.throw=function(e){return this._invoke("throw",e)},y.prototype.return=function(e){return this._invoke("return",e)};var g=1,b={Bucket:process.env.REACT_APP_S3_BUCKET,MaxKeys:1e3};function E(e){var t=[],n=process.env,r=n.REACT_APP_S3_BUCKET,a=n.REACT_APP_S3_REGION;return p.a.each(e,(function(e){var n=e.split("/");n.shift();var o=t,i=1;p.a.each(n,(function(t){var c=p.a.findWhere(o,{name:t});if(c)o=c.children;else{var l,u={name:t,children:[],_id:g++,url:"https://".concat(r,".s3-").concat(a,".amazonaws.com").concat(e),abs_path:e.substring(1),parent:""===n.slice(0,i-1).join("/")?"root":n.slice(0,i-1).join("/")};(e.match(/\//g)||[]).length!==i?(delete u.url,u.folder=!0,u.abs_path=n.slice(0,i).join("/"),u.depth=(u.abs_path.match(/\//g)||[]).length+1):(delete u.children,u.folder=!1,u.depth=(e.match(/\//g)||[]).length),null===(l=o)||void 0===l||l.push(u),o=u.children}i++}))})),t}function w(){return S.apply(this,arguments)}function S(){return(S=h(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(s.listObjectsV2(b).promise());case 2:return t=e.sent,b.ContinuationToken=t.NextContinuationToken,e.next=6,t;case 6:if(b.ContinuationToken){e.next=0;break}case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=function(){var e,t,n,r,a,o,i,c;return regeneratorRuntime.async((function(l){for(;;)switch(l.prev=l.next){case 0:e=[],t=!0,n=!1,l.prev=3,a=d(w(b));case 5:return l.next=7,regeneratorRuntime.awrap(a.next());case 7:return o=l.sent,t=o.done,l.next=11,regeneratorRuntime.awrap(o.value);case 11:if(i=l.sent,t){l.next=18;break}i.Contents.forEach((function(t){var n=t.Key;n.endsWith("/")||e.push("/"+n)}));case 15:t=!0,l.next=5;break;case 18:l.next=24;break;case 20:l.prev=20,l.t0=l.catch(3),n=!0,r=l.t0;case 24:if(l.prev=24,l.prev=25,t||null==a.return){l.next=29;break}return l.next=29,regeneratorRuntime.awrap(a.return());case 29:if(l.prev=29,!n){l.next=32;break}throw r;case 32:return l.finish(29);case 33:return l.finish(24);case 34:return c=E(e),l.abrupt("return",c);case 36:case"end":return l.stop()}}),null,null,[[3,20,24,34],[25,,29,33]],Promise)},_=n(1),R=n(5);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var O=function(e){var t=C(Object(r.useState)(0),2),n=t[0],o=t[1],i=C(Object(r.useState)([]),2),c=i[0],l=i[1],u=C(Object(r.useState)(!1),2),f=u[0],p=u[1],d=C(Object(r.useState)(0),2),m=d[0],h=d[1],y=C(Object(r.useState)(!1),2),v=y[0],g=y[1],b=function(e){l(e.target.files)},E=function(){o(0),l([]),h(0),g(!1),e.handler()};return m>0&&m===c.length&&setTimeout((function(){e.refreshTree(),E()}),2e3),a.a.createElement("div",{style:{display:"inline-block"}},a.a.createElement("img",{style:{display:"inline-block",marginLeft:"15px",marginBottom:"3px",cursor:"pointer"},src:"https://img.icons8.com/material-outlined/24/000000/upload--v1.png",alt:"upload",onClick:e.handler}),a.a.createElement(_.Modal,{show:e.open,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:v?function(){return null}:e.handler},a.a.createElement(_.Modal.Header,null,a.a.createElement(_.Modal.Title,{id:"contained-modal-title-vcenter"},R.isMobile&&a.a.createElement(a.a.Fragment,null,"Upload Files to ",a.a.createElement("br",null),a.a.createElement("span",{style:{fontSize:"15px",color:"grey"}},e.path)),R.isBrowser&&a.a.createElement(a.a.Fragment,null,"Upload ",f?"a Folder":"Files"," to ",a.a.createElement("br",null),a.a.createElement("span",{style:{fontSize:"15px",color:"grey"}},e.path),!v&&a.a.createElement(_.Button,{variant:"dark",style:{display:"inline-block",right:"15px",position:"absolute",top:"30px"},onClick:p.bind(void 0,!f)},"Upload ",f?"Files instead?":"a Folder instead?")))),a.a.createElement(_.Modal.Body,null,a.a.createElement("div",{align:"center"},R.isMobile?a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},!v&&a.a.createElement("input",{required:!0,type:"file",id:"ctrl",onChange:b,multiple:!0}),a.a.createElement("div",{style:{paddingTop:"20px"}},"File Upload Progress:",a.a.createElement("b",{style:{color:100===n?"green":"red"}},n,"%"))):a.a.createElement(a.a.Fragment,null,a.a.createElement("form",{onSubmit:function(e){return e.preventDefault()}},f?!v&&a.a.createElement("input",{type:"file",onChange:b,webkitdirectory:"",directory:"",multiple:!0,required:!0}):!v&&a.a.createElement("input",{type:"file",onChange:b,multiple:!0,required:!0})),a.a.createElement("div",{style:{paddingTop:"20px"}},f?"Folder":"File"," Upload Progress:  ",a.a.createElement("b",{style:{color:100===n?"green":"red"}},n,"%"))),m>0&&"".concat(m," files uploaded of ").concat(c.length),a.a.createElement("br",null),m>0&&m===c.length&&"Closing Modal in 2 seconds.")),!v&&a.a.createElement(_.Modal.Footer,null,a.a.createElement(_.Button,{onClick:function(){var t;g(!0),null===(t=Array.from(c))||void 0===t||t.forEach((function(t){var n;n=f?"/"!==e.path?e.path+"/"+t.webkitRelativePath:t.webkitRelativePath:"/"!==e.path?e.path+"/"+t.name:t.name;var r={ACL:"public-read",Body:t,Bucket:process.env.REACT_APP_S3_BUCKET,Key:n};s.putObject(r).on("httpUploadProgress",(function(e){o(Math.round(e.loaded/e.total*100)),e.loaded===e.total&&h((function(e){return e+1}))})).send((function(e){e&&console.log(e)}))}))}},"Upload"),a.a.createElement(_.Button,{variant:"secondary",onClick:E},"Close"))))},P=function(e){return a.a.createElement("div",{style:{display:e.folder?"inline-block":"none"}},!0===e.folder&&a.a.createElement("img",{style:{display:"inline-block",marginLeft:"15px",marginBottom:"3px",cursor:"pointer"},src:"https://img.icons8.com/material-outlined/24/000000/trash.png",alt:"delete",onClick:e.handler}),a.a.createElement(_.Modal,{show:e.open,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0,onHide:e.handler},a.a.createElement(_.Modal.Header,null,a.a.createElement(_.Modal.Title,{id:"contained-modal-title-vcenter"},a.a.createElement(a.a.Fragment,null,"Delete ",e.folder?"Folder":"File"," ",a.a.createElement("br",null),a.a.createElement("span",{style:{fontSize:"20px",color:"red"}},e.path)))),a.a.createElement(_.Modal.Footer,null,a.a.createElement(_.Button,{variant:"danger",onClick:function t(){var n={Bucket:process.env.REACT_APP_S3_BUCKET,Prefix:e.path};s.listObjectsV2(n,(function(e,r){if(e)return console.log(e);0!==r.Contents.length&&((n={Bucket:process.env.REACT_APP_S3_BUCKET}).Delete={Objects:[]},r.Contents.forEach((function(e){n.Delete.Objects.push({Key:e.Key})})),s.deleteObjects(n,(function(e,n){var r;if(e)return console.log(e);1e3===(null===(r=n.Contents)||void 0===r?void 0:r.length)&&t()})))})),setTimeout((function(){e.handler(),e.refreshTree()}),2e3)}},"Delete"),a.a.createElement(_.Button,{variant:"secondary",onClick:e.handler},"Close"))))},T=n(11),A=n(3),j=n(7),B=n(15),I=n.n(B);n(19);function F(e){return(F="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function D(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,a=function(){};return{s:a,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:a}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function L(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){L(o,r,a,i,c,"next",e)}function c(e){L(o,r,a,i,c,"throw",e)}i(void 0)}))}}function K(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function U(e,t){return(U=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=H(e);if(t){var a=H(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return q(this,n)}}function q(e,t){return!t||"object"!==F(t)&&"function"!=typeof t?W(e):t}function W(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function H(e){return(H=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function $(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&U(e,t)}(i,e);var t,n,r,o=z(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),$(W(t=o.call(this,e)),"modalSet",(function(){t.props.handler(),t.state.zippedFiles&&(t.setState({pageNumber:1}),t.setState({activeFile:null}))})),$(W(t),"getData",N(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={Bucket:process.env.REACT_APP_S3_BUCKET,Key:t.props.abs_path},e.next=4,s.getObject(n).promise();case 4:if(r=e.sent,".zip"!==t.state.extension){e.next=9;break}return e.abrupt("return",r.Body);case 9:if(".pdf"!==t.state.extension){e.next=13;break}return e.abrupt("return","data:application/pdf;base64,"+r.Body.toString("base64"));case 13:if(!(t.state.extension.match(/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i)||{}).input){e.next=15;break}return e.abrupt("return","data:image/".concat(t.state.extension,";base64,")+r.Body.toString("base64"));case 15:return e.abrupt("return",r.Body.toString("utf-8"));case 18:throw e.prev=18,e.t0=e.catch(0),new Error("Could not retrieve file from S3: ".concat(e.t0.message));case 21:case"end":return e.stop()}}),e,null,[[0,18]])})))),$(W(t),"onDocumentLoadSuccess",(function(e){var n=e.numPages;t.setState({numPages:n})})),$(W(t),"stateHandler",(function(){t.setState({text:void 0}),t.setState({pageNumber:1}),t.setState({activeFile:null})})),$(W(t),"zipListButton",(function(){return a.a.createElement(_.Button,{title:"List of Files",style:{background:"transparent"},className:"file-list-btn",onClick:t.stateHandler},a.a.createElement("img",{src:"https://img.icons8.com/cotton/32/000000/list--v1.png",alt:"file-list"}))})),$(W(t),"selectComponent",(function(){var e=t.state.activeFile?/(?:\.([^.]+))?$/.exec(t.state.activeFile)[0].toLowerCase():t.state.extension;switch(e){case(e.match(/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i)||{}).input:return a.a.createElement("img",{src:t.state.text,style:{maxHeight:"50vh"},alt:"file-display"});case(e.match(/\.(avi|wmv|flv|mpg|mp4)$/i)||{}).input:return a.a.createElement("video",{controls:!0,src:t.state.text,style:{maxHeight:"50vh"},alt:"file-video"});case".pdf":return a.a.createElement("div",{align:"center"},a.a.createElement("div",{style:{display:"inline-block",marginTop:"10px"}},a.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-filled/96/000000/left.png",alt:"pdf-left",style:{width:"10%",height:"10%",cursor:t.state.pageNumber>1?"pointer":"default",marginRight:"7px"},onClick:function(){return t.state.pageNumber>1?t.setState({pageNumber:t.state.pageNumber-1}):""}}),a.a.createElement("span",null,"Page ",t.state.pageNumber," of ",t.state.numPages),a.a.createElement("img",{src:"https://img.icons8.com/fluent-systems-filled/96/000000/right.png",alt:"pdf-right",style:{width:"10%",height:"10%",cursor:t.state.pageNumber<t.state.numPages?"pointer":"default",marginLeft:"5px",marginBottom:"1px"},onClick:function(){return t.state.pageNumber<t.state.numPages?t.setState({pageNumber:t.state.pageNumber+1}):""}})),a.a.createElement(j.Document,{file:t.state.text,onLoadSuccess:t.onDocumentLoadSuccess},a.a.createElement(j.Page,{pageNumber:t.state.pageNumber})));case".ipynb":return a.a.createElement(I.a,{notebook:JSON.parse(t.state.fileUrl),showCode:!0,loadMathjax:!0});case".zip":return a.a.createElement("div",{align:"center"},t.state.zippedFiles.map((function(e){return a.a.createElement("div",{key:e.crc32+e.filename},a.a.createElement(_.Button,{onClick:function(){t.setState({activeFile:e.filename}),".pdf"===/(?:\.([^.]+))?$/.exec(e.filename)[0].toLowerCase()||/(?:\.([^.]+))?$/.exec(e.filename)[0].toLowerCase().match(/\.(gif|jpe?g|tiff?|png|webp|bmp|avi|wmv|flv|mpg|mp4)$/i)?e.getData(new window.zip.BlobWriter,(function(n){var r,a=/(?:\.([^.]+))?$/.exec(e.filename)[0].toLowerCase();switch(a){case".pdf":r="application/pdf";break;case(a.match(/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i)||{}).input:r="image/".concat(e.filename.match(/\.(gif|jpe?g|tiff?|png|webp|bmp)$/i));break;case(a.match(/\.(avi|wmv|flv|mpg|mp4)$/i)||{}).input:r="video/mp4";break;default:r="text/plain"}var o=new Blob([n],{type:r});t.setState({text:URL.createObjectURL(o)})}),(function(e,t){})):e.getData(new window.zip.TextWriter,(function(e){t.setState({text:e})}),(function(e,t){}))},style:{marginBottom:"5px",marginTop:"5px",maxWidth:"90%",wordWrap:"break-word"}},e.filename))})));default:return a.a.createElement("textarea",{rows:"20",value:t.state.text||void 0,style:{color:"white",backgroundColor:"black"},readOnly:!0})}})),t.state={activeFile:null,extension:/(?:\.([^.]+))?$/.exec(t.props.name)[0].toLowerCase(),numPages:0,pageNumber:1,text:null,zippedFiles:[]},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;j.pdfjs.GlobalWorkerOptions.workerSrc="//cdnjs.cloudflare.com/ajax/libs/pdf.js/".concat(j.pdfjs.version,"/pdf.worker.js"),this.getData().then((function(t){if(".zip"===e.state.extension){var n=new Blob([t],{type:"application/zip"}),r=window.zip;r.createReader(new r.BlobReader(n),(function(t){t.getEntries((function(t){if(t.length){var n,r=[],a=D(t);try{for(a.s();!(n=a.n()).done;){var o=n.value;o.filename.substring(o.filename.lastIndexOf("/")).includes(".")&&r.push(o)}}catch(e){a.e(e)}finally{a.f()}e.setState({zippedFiles:r})}}))}),(function(e){console.log(e)}))}else e.setState({text:t})}))}},{key:"render",value:function(){var e=this;return a.a.createElement(_.Modal,{show:this.props.open,onHide:this.modalSet,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},a.a.createElement(_.Modal.Header,null,a.a.createElement("span",{style:{maxWidth:"80%",wordWrap:"break-word"}},this.props.name),a.a.createElement(_.Button,{variant:"secondary",onClick:function(){e.stateHandler(),e.props.handler()}},"X")),this.state.activeFile&&this.zipListButton(),this.selectComponent(),a.a.createElement(_.Modal.Footer,null,a.a.createElement(_.Button,{variant:"secondary",onClick:function(){e.stateHandler(),e.props.handler()}},"Close")))}}])&&K(t.prototype,n),r&&K(t,r),i}(a.a.Component),G=function(e,t){if(e.folder){var n={Bucket:process.env.REACT_APP_S3_BUCKET,Prefix:e.abs_path};!function r(){s.listObjectsV2(n,(function(a,o){if(a)return console.log(a);0!==o.Contents.length&&((n={Bucket:process.env.REACT_APP_S3_BUCKET}).Delete={Objects:[]},o.Contents.forEach((function(r){n.Delete.Objects.push({Key:r.Key}),s.copyObject({Bucket:process.env.REACT_APP_S3_BUCKET,CopySource:process.env.REACT_APP_S3_BUCKET+"/"+r.Key,Key:"root"===t||"/"===t?e.name+r.Key.replace(e.abs_path,""):t+"/"+e.name+r.Key.replace(e.abs_path,"")}).promise().then((function(){return s.deleteObject({Bucket:process.env.REACT_APP_S3_BUCKET,Key:r.Key}).promise()})).catch((function(e){return console.log(e)}))})),s.deleteObjects(n,(function(e,t){var n;if(e)return console.log(e);1e3===(null===(n=t.Contents)||void 0===n?void 0:n.length)&&r()})))}))}()}else s.copyObject({Bucket:process.env.REACT_APP_S3_BUCKET,CopySource:process.env.REACT_APP_S3_BUCKET+"/"+e.abs_path,Key:t.endsWith("/")?e.name:t+"/"+e.name}).promise().then((function(){return s.deleteObject({Bucket:process.env.REACT_APP_S3_BUCKET,Key:e.abs_path}).promise()})).catch((function(e){return console.error(e)}))};n(21);function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Z=function e(t){var n=Y(Object(r.useState)(!1),2),a=n[0],o=n[1],i=t.name,l=t.folder,u=t.url,f=t.handler,p=t.abs_path,d=t.depth,m=t.refreshTree,h=t.children,y=t.root,v=t.parent,g=Y(Object(r.useState)(!1),2),b=g[0],E=g[1],w=Y(Object(r.useState)(!1),2),S=w[0],x=w[1],C=Y(Object(r.useState)(!1),2),k=C[0],j=C[1],B=Y(Object(r.useState)(!1),2),I=B[0],F=B[1],D=Y(Object(r.useState)(i),2),M=D[0],L=D[1],N=function(){var e=s.getSignedUrl("getObject",{Bucket:process.env.REACT_APP_S3_BUCKET,Key:p,Expires:300});window.location.href=e},K=function(){return React.createElement("form",{onSubmit:function(e){e.preventDefault(),M===i?F(!I):t.siblings.filter((function(e){return e.name===M})).length>0?A.NotificationManager.error(React.createElement("span",{style:{wordWrap:"break-word",maxWidth:"80%"}},M," already exists in ",v),"Name conflict!"):(G({name:M,abs_path:p,folder:l},v),setTimeout(m,2e3),A.NotificationManager.success(React.createElement("span",{style:{wordWrap:"break-word",maxWidth:"80%"}},p," renamed to ",v+"/"+M),"Success!"))}},React.createElement("input",{onChange:function(e){return L(e.target.value)},value:M,style:{display:"inline-block",marginLeft:"10px"},required:!0,pattern:"[\\_0-9A-Za-z\\.]+"}),React.createElement(_.Button,{style:{display:"inline-block",marginLeft:"10px",background:"transparent",height:"30px",marginBottom:"4px"},type:"submit"},React.createElement("img",{style:{paddingBottom:"10px"},height:"25px",src:"https://img.icons8.com/material-outlined/24/000000/checked-2--v1.png",alt:"yes"})),React.createElement(_.Button,{type:"button",variant:"danger",style:{display:"inline-block",marginLeft:"10px",background:"transparent",height:"30px",marginBottom:"4px"},onClick:function(){F(!1),L(i)}},React.createElement("img",{height:"25px",style:{paddingBottom:"10px"},src:"https://img.icons8.com/ios/50/000000/x.png",alt:"no"})))};return React.createElement("div",{align:"left",style:{marginLeft:"".concat(R.isMobile?20*d:15*d,"px")}},React.createElement(c.Entry,null,React.createElement(c.Icon,{fileType:l?"directory":"file"}),React.createElement(c.Name,null,l&&(I?React.createElement(React.Fragment,null,K()):React.createElement(T.Droppable,{types:["file","folder"],onDrop:function(e){var t=e.file,n=e.folder,r=t?JSON.parse(t):JSON.parse(n);if((null==h?void 0:h.filter((function(e){return e.name===r.name})).length)>0||r.abs_path===p)return A.NotificationManager.error(React.createElement("span",{style:{wordWrap:"break-word",maxWidth:"80%"}},r.name," already exists in ","/"===p?"root":p),"Name conflict!");G(r,p),setTimeout(m,2e3),A.NotificationManager.success(React.createElement("span",{style:{wordWrap:"break-word",maxWidth:"80%"}},r.name," moved to ",y?"root/".concat(r.name):p+"/"+r.name),"Success!")}},React.createElement("div",null,!y&&React.createElement(T.Draggable,{type:"folder",data:JSON.stringify({name:i,abs_path:p,folder:l}),style:{display:"inline-block",marginTop:"5px"}},React.createElement(_.Button,{variant:"link",onClick:function(e){e.preventDefault(),o(!a)},style:{display:"inline-block",marginLeft:"0px",wordWrap:"break-word",textDecoration:"none"}},i)),y&&React.createElement(_.Button,{variant:"link",onClick:function(e){e.preventDefault(),f()},style:{display:"inline-block",marginLeft:"10px",wordWrap:"break-word",textDecoration:"none"}},i),React.createElement(O,{refreshTree:m,open:b,handler:E.bind(void 0,!b),path:p}),!y&&React.createElement(React.Fragment,null,React.createElement("img",{src:"https://img.icons8.com/material-sharp/24/000000/edit-file.png",onClick:F.bind(void 0,!I),style:{cursor:"pointer",marginLeft:"14px"},alt:"rename-folder"}),React.createElement(P,{refreshTree:m,folder:l,handler:x.bind(void 0,!S),open:S,path:p}))))),!l&&(I?React.createElement(_.Dropdown,null,K(),React.createElement(_.Dropdown.Menu,null,React.createElement(_.Dropdown.Item,{onClick:j.bind(void 0,!k)},"View"),!l&&React.createElement(J,{open:k,handler:j.bind(void 0,!k),abs_path:p,name:i,url:u}),React.createElement(_.Dropdown.Item,{onClick:N},"Download"),React.createElement(_.Dropdown.Item,{onClick:x.bind(void 0,!S)},"Delete File ",i),React.createElement(P,{refreshTree:m,folder:l,handler:x.bind(void 0,!S),open:S,path:p}),React.createElement(_.Dropdown.Item,{onClick:F.bind(void 0,!I)},"Rename File ",i))):React.createElement(T.Draggable,{type:"file",data:JSON.stringify({name:i,abs_path:p,folder:l})},React.createElement(_.Dropdown,null,React.createElement(_.Dropdown.Toggle,{style:{background:"none",border:"none",outline:"none",color:"black",wordWrap:"break-word"}},React.createElement("span",null,i)),React.createElement(_.Dropdown.Menu,null,React.createElement(_.Dropdown.Item,{onClick:j.bind(void 0,!k)},"View"),React.createElement(J,{open:k,handler:j.bind(void 0,!k),abs_path:p,name:i,url:u}),React.createElement(_.Dropdown.Item,{onClick:N},"Download"),React.createElement(_.Dropdown.Item,{onClick:x.bind(void 0,!S)},"Delete File ",i),React.createElement(P,{refreshTree:m,folder:l,handler:x.bind(void 0,!S),open:S,path:p}),React.createElement(_.Dropdown.Item,{onClick:F.bind(void 0,!I)},"Rename File ",i))))))),a&&l&&h.map((function(t){return React.createElement(e,V({key:t._id,refreshTree:m,siblings:h},t))})))};function Q(){return(Q=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var ee=function(e){var t=e.tree,n=e.refreshTree;return a.a.createElement(a.a.Fragment,null,null==t?void 0:t.map((function(e){return a.a.createElement(Z,Q({key:e._id,siblings:t,refreshTree:n},e))})))},te=n(16),ne=n.n(te);function re(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return ae(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return ae(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ae(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var oe=function(e){var t=e.props,n=re(Object(r.useState)(!1),2),a=n[0],o=n[1],i=re(Object(r.useState)(!1),2),l=i[0],u=i[1];return React.createElement("div",null,t.map((function(e){var t=e.name,n=e.folder,r=e.url,i=e.abs_path,s=e.refreshTree;return React.createElement("div",{key:e._id,align:"left",style:{marginLeft:"".concat(R.isMobile?10:3,"vw"),display:"flex",alignItems:"center"}},React.createElement(c.Entry,null,React.createElement(c.Icon,{fileType:"file"}),React.createElement(c.Name,null,React.createElement(_.Dropdown,null,React.createElement(_.Dropdown.Toggle,{style:{background:"none",border:"none",outline:"none",color:"black",display:"flex"}},React.createElement("span",null,t),React.createElement("span",{style:{color:"grey",fontSize:"10px",marginLeft:"30px",marginTop:"7px"}},i)),React.createElement(_.Dropdown.Menu,null,React.createElement(_.Dropdown.Item,{onClick:u.bind(void 0,!l)},"View"),React.createElement(J,{open:l,handler:u.bind(void 0,!l),abs_path:i,name:t,url:r}),React.createElement(_.Dropdown.Item,{href:r},"Download"),React.createElement(_.Dropdown.Item,{onClick:o.bind(void 0,!a)},"Delete File ",t),React.createElement(P,{refreshTree:s,folder:n,handler:o.bind(void 0,!a),open:a,path:i}),React.createElement(_.Dropdown.Item,{href:"#/action-3"},"Rename File ",t))))))})))};n(23),n(25),n(13);function ie(e){return(ie="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ce(e,t,n,r,a,o,i){try{var c=e[o](i),l=c.value}catch(e){return void n(e)}c.done?t(l):Promise.resolve(l).then(r,a)}function le(e){return function(){var t=this,n=arguments;return new Promise((function(r,a){var o=e.apply(t,n);function i(e){ce(o,r,a,i,c,"next",e)}function c(e){ce(o,r,a,i,c,"throw",e)}i(void 0)}))}}function ue(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function se(e,t){return(se=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=me(e);if(t){var a=me(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return pe(this,n)}}function pe(e,t){return!t||"object"!==ie(t)&&"function"!=typeof t?de(e):t}function de(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function me(e){return(me=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function he(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&se(e,t)}(l,e);var t,n,r,o,i=fe(l);function l(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),he(de(e=i.call(this)),"toggleFolder",(function(){return e.setState({folderOpen:!e.state.folderOpen})})),he(de(e),"refreshTree",le(regeneratorRuntime.mark((function t(){var n;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,x();case 2:n=t.sent,e.setState({tree:n});case 4:case"end":return t.stop()}}),t)})))),he(de(e),"searchInTree",(function(t,n){t.forEach((function(t){if(t.name.toLowerCase().includes(n)&&!t.children){var r=e.state.arrayOfMatches;r.push(t),e.setState({arrayOfMatches:r})}t.children&&e.searchInTree(t.children,n)}))})),he(de(e),"handleSearch",(function(t){e.searchInTree(e.state.tree,t),e.setState({tempArray:e.state.arrayOfMatches}),e.setState({arrayOfMatches:[]})})),he(de(e),"handleOnChange",(function(t,n){t.toLowerCase().length?e.setState({searching:!0}):e.setState({searching:!1}),e.handleSearch(t.toLowerCase(),n)})),e.state={tree:[],folderOpen:!0,arrayOfMatches:[],searching:!1,tempArray:[]},e.refreshTree=e.refreshTree.bind(de(e)),e.toggleFolder=e.toggleFolder.bind(de(e)),e.searchInTree=e.searchInTree.bind(de(e)),e.handleOnChange=e.handleOnChange.bind(de(e)),e.handleSearch=e.handleSearch.bind(de(e)),e}return t=l,(n=[{key:"componentDidMount",value:(o=le(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,x();case 2:t=e.sent,this.setState({tree:t});case 4:case"end":return e.stop()}}),e,this)}))),function(){return o.apply(this,arguments)})},{key:"render",value:function(){return a.a.createElement("div",{align:"center",style:{marginTop:"10px"}},a.a.createElement(ne.a,{placeholder:"Search Files",onEnter:this.handleSearch,onSearchClick:this.handleSearch,onChange:this.handleOnChange}),this.state.searching?a.a.createElement(oe,{props:this.state.tempArray}):this.state.tree.length>=0&&a.a.createElement(c.Listing,null,a.a.createElement(Z,{abs_path:"/",name:"root",children:this.state.tree,folder:!0,refreshTree:this.refreshTree,handler:this.toggleFolder,root:!0}),this.state.folderOpen&&a.a.createElement(ee,{refreshTree:this.refreshTree,tree:this.state.tree})),a.a.createElement(_.Button,{onClick:function(){localStorage.removeItem("refresh_token"),window.location.reload()},style:{position:"absolute",right:"15px",top:"10px"}},"Logout"),a.a.createElement(A.NotificationContainer,null))}}])&&ue(t.prototype,n),r&&ue(t,r),l}(a.a.Component),ve=n(9),ge=n.n(ve),be={apiKey:process.env.REACT_APP_FIREBASE_API_KEY,authDomain:process.env.REACT_APP_FIREBASE_PROJECT_ID+".firebaseapp.com",projectId:process.env.REACT_APP_FIREBASE_PROJECT_ID,storageBucket:process.env.REACT_APP_FIREBASE_PROJECT_ID+".appspot.com",messagingSenderId:process.env.REACT_APP_FIREBASE_SENDER_ID,appId:process.env.REACT_APP_FIREBASE_APP_ID,measurementId:"G-"+process.env.REACT_APP_FIREBASE_MEASUREMENT_ID};ge.a.initializeApp(be);n(26);var Ee=n(6);function we(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null==n)return;var r,a,o=[],i=!0,c=!1;try{for(n=n.call(e);!(i=(r=n.next()).done)&&(o.push(r.value),!t||o.length!==t);i=!0);}catch(e){c=!0,a=e}finally{try{i||null==n.return||n.return()}finally{if(c)throw a}}return o}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Se(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Se(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Se(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var xe=Object(Ee.withRouter)((function(e){var t=e.history,n=we(Object(r.useState)(""),2),a=n[0],o=n[1],i=we(Object(r.useState)(""),2),c=i[0],l=i[1];return React.createElement("div",null,React.createElement(_.Modal,{show:!0,size:"lg","aria-labelledby":"contained-modal-title-vcenter",centered:!0},React.createElement(_.Modal.Header,null,React.createElement("h3",null,"Self-Hosted Serverless Cloud Storage"),React.createElement(_.Form.Text,null,"© Saarth Deshpande, ",(new Date).getFullYear())),React.createElement(_.Form,{style:{padding:"15px"},onSubmit:function(e){e.preventDefault(),ge.a.auth().signInWithEmailAndPassword(a,c).then((function(e){var t=e.user;localStorage.setItem("refresh_token",t.refreshToken),window.location.href="/"})).catch((function(e){console.log(e.code,e.message),A.NotificationManager.error(e.code,"Invalid Login!")}))}},React.createElement(_.Form.Group,{style:{marginBottom:"10px"},controlId:"formBasicEmail"},React.createElement(_.Form.Label,null,"Email address"),React.createElement(_.Form.Control,{onChange:function(e){return o(e.target.value)},type:"email",placeholder:"Enter email",autoComplete:"on"})),React.createElement(_.Form.Group,{style:{marginBottom:"20px"},controlId:"formBasicPassword"},React.createElement(_.Form.Label,null,"Password"),React.createElement(_.Form.Control,{onChange:function(e){return l(e.target.value)},type:"password",placeholder:"Password",autoComplete:"on"})),React.createElement(_.Button,{style:{backgroundColor:"transparent",color:"blue",width:"100%"},variant:"primary",type:"submit"},"Login")),localStorage.getItem("refresh_token")&&t.push("/")),React.createElement(A.NotificationContainer,null))}));function _e(e){return(_e="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Re(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ce(e,t){return(Ce=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ke(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=Pe(e);if(t){var a=Pe(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Oe(this,n)}}function Oe(e,t){return!t||"object"!==_e(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var Te=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ce(e,t)}(i,e);var t,n,r,o=ke(i);function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=o.call(this,e)).state={isLoading:!0,valid:!1},t}return t=i,(n=[{key:"componentDidMount",value:function(){var e=this;fetch("https://securetoken.googleapis.com/v1/token?key=".concat(process.env.REACT_APP_FIREBASE_API_KEY),{method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},body:"grant_type=refresh_token&refresh_token=".concat(localStorage.getItem("refresh_token"))}).then((function(e){return e.json()})).then((function(t){t.id_token?(e.setState({valid:!0}),e.setState({isLoading:!1})):(localStorage.removeItem("refresh_token"),e.setState({valid:!1}),e.setState({isLoading:!1}))})).catch((function(t){console.log(t),e.setState({valid:!1})}))}},{key:"render",value:function(){return a.a.createElement(a.a.Fragment,null,this.state.isLoading?a.a.createElement("div",null):this.state.valid?a.a.createElement(this.props.component):a.a.createElement(Ee.Redirect,{to:"/login"}))}}])&&Re(t.prototype,n),r&&Re(t,r),i}(a.a.Component);function Ae(){return React.createElement(Ee.BrowserRouter,null,React.createElement(Ee.Switch,null,React.createElement(Ee.Route,{exact:!0,path:"/login",component:xe}),React.createElement(Te,{exact:!0,path:"/",component:ye})))}var je=function(e){e&&e instanceof Function&&Promise.resolve().then(n.t.bind(null,28,7)).then((function(t){var n=t.getCLS,r=t.getFID,a=t.getFCP,o=t.getLCP,i=t.getTTFB;n(e),r(e),a(e),o(e),i(e)}))};window.addEventListener("contextmenu",(function(e){return e.preventDefault()})),i.a.render(a.a.createElement(Ae,null),document.getElementById("root")),je()},function(e,t){e.exports=require("web-vitals")}]);